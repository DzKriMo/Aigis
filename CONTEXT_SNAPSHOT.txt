Aegis Context Snapshot (2026-03-01)

Status
- API, DB, JWT auth, dashboard, LLM classifier, and demo are implemented.
- llama.cpp sidecar is running on 127.0.0.1:8080 with Qwen2.5-3B GGUF.
- AEGIS now reads .env via python-dotenv.

Key Commands
- Start API:
  $env:PYTHONPATH="C:\Users\krimo\OneDrive\Desktop\Aegis\src"
  C:\Users\krimo\AppData\Local\Python\pythoncore-3.14-64\python.exe -m uvicorn aegis.api.main:app --port 8000

- Start llama.cpp server:
  C:\Users\krimo\AppData\Local\Microsoft\WinGet\Packages\ggml.llamacpp_Microsoft.Winget.Source_8wekyb3d8bbwe\llama-server.exe \
    -m C:\Users\krimo\OneDrive\Desktop\Aegis\models\qwen2.5-3b-instruct-q4_k_m.gguf \
    --port 8080 --n-gpu-layers 35 --ctx-size 2048

- Demo:
  C:\Users\krimo\AppData\Local\Python\pythoncore-3.14-64\python.exe C:\Users\krimo\OneDrive\Desktop\Aegis\scripts\demo_cli.py

- LLM health:
  Invoke-WebRequest -Uri "http://127.0.0.1:8000/v1/llm/ping" -Headers @{ "x-api-key"="changeme" } -UseBasicParsing

Dashboard
- http://127.0.0.1:8000/v1/dashboard
- Enter API key in UI (default: changeme)

Config (.env)
- AEGIS_LLM_ENABLED=true
- AEGIS_LLM_ENDPOINT=http://127.0.0.1:8080/v1/chat/completions
- AEGIS_LLM_MODEL=qwen2.5-3b-instruct
- AEGIS_DB_ENABLED=true
- DATABASE_URL=sqlite:///aegis.db

Files Added/Updated (high-level)
- README.md (GitHub-ready)
- SYSTEM_ARCHITECTURE.md (detailed explanation)
- CONTRIBUTING.md, SECURITY.md
- Dashboard UI in src/aegis/api/dashboard.py
- LLM classifier in src/aegis/detectors/llm_client.py
- Runtime in src/aegis/runtime/runner.py (logs LLM classification + timestamps)
- DB store in src/aegis/storage/db_store.py
- JWT auth in src/aegis/auth/jwt.py and api/auth.py

Notes
- LLM classifications now logged in events with ts timestamps.
- If LLM shows all false, check /v1/llm/ping output for __error__/__raw__.
- API must be restarted after code changes.
